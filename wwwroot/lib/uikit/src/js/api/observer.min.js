/**
 * Minified by jsDelivr using Terser v5.15.1.
 * Original file: /npm/uikit@3.16.12/src/js/api/observer.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{registerWatch}from"./watch";import{registerComputed}from"./computed";import{hasOwn,includes,isArray,isFunction,isString}from"uikit-util";export function initObservers(e){e._observers=[];for(const r of e.$options.observe||[])if(hasOwn(r,"handler"))registerObservable(e,r);else for(const s of r)registerObservable(e,s)}export function registerObserver(e,...r){e._observers.push(...r)}export function disconnectObservers(e){for(const r of e._observers)r.disconnect()}function registerObservable(e,r){let{observe:s,target:t=e.$el,handler:o,options:n,filter:i,args:c}=r;if(i&&!i.call(e,e))return;const a=`_observe${e._observers.length}`;isFunction(t)&&!hasOwn(e,a)&&registerComputed(e,a,(()=>t.call(e,e))),o=isString(o)?e[o]:o.bind(e),isFunction(n)&&(n=n.call(e,e));const u=s(hasOwn(e,a)?e[a]:t,o,n,c);isFunction(t)&&isArray(e[a])&&u.unobserve&&registerWatch(e,{handler:updateTargets(u),immediate:!1},a),registerObserver(e,u)}function updateTargets(e){return(r,s)=>{for(const t of s)!includes(r,t)&&e.unobserve(t);for(const t of r)!includes(s,t)&&e.observe(t)}}
//# sourceMappingURL=/sm/aa88e6cd6a3bab2d4cd351cb7cbe42e6d37bdaf723cfa8a0253a3e574a5088e4.map