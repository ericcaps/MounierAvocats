/**
 * Minified by jsDelivr using Terser v5.15.1.
 * Original file: /npm/uikit@3.16.12/src/js/mixin/slider-drag.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{closest,css,getEventPos,includes,isRtl,isTouch,noop,off,on,selInput,toArray,trigger}from"uikit-util";const pointerOptions={passive:!1,capture:!0},pointerUpOptions={passive:!0,capture:!0},pointerDown="touchstart mousedown",pointerMove="touchmove mousemove",pointerUp="touchend touchcancel mouseup click input scroll";export default{props:{draggable:Boolean},data:{draggable:!0,threshold:10},created(){for(const t of["start","move","end"]){const e=this[t];this[t]=t=>{const i=getEventPos(t).x*(isRtl?-1:1);this.prevPos=i===this.pos?this.prevPos:this.pos,this.pos=i,e(t)}}},events:[{name:pointerDown,passive:!0,delegate(){return`${this.selList} > *`},handler(t){!this.draggable||!isTouch(t)&&hasSelectableText(t.target)||closest(t.target,selInput)||t.button>0||this.length<2||this.start(t)}},{name:"dragstart",handler(t){t.preventDefault()}},{name:pointerMove,el(){return this.list},handler:noop,...pointerOptions}],methods:{start(){this.drag=this.pos,this._transitioner?(this.percent=this._transitioner.percent(),this.drag+=this._transitioner.getDistance()*this.percent*this.dir,this._transitioner.cancel(),this._transitioner.translate(this.percent),this.dragging=!0,this.stack=[]):this.prevIndex=this.index,on(document,pointerMove,this.move,pointerOptions),on(document,pointerUp,this.end,pointerUpOptions),css(this.list,"userSelect","none")},move(t){const e=this.pos-this.drag;if(0===e||this.prevPos===this.pos||!this.dragging&&Math.abs(e)<this.threshold)return;css(this.list,"pointerEvents","none"),t.cancelable&&t.preventDefault(),this.dragging=!0,this.dir=e<0?1:-1;const{slides:i}=this;let{prevIndex:s}=this,n=Math.abs(e),r=this.getIndex(s+this.dir,s),h=this._getDistance(s,r)||i[s].offsetWidth;for(;r!==s&&n>h;)this.drag-=h*this.dir,s=r,n-=h,r=this.getIndex(s+this.dir,s),h=this._getDistance(s,r)||i[s].offsetWidth;this.percent=n/h;const o=i[s],p=i[r],d=this.index!==r,a=s===r;let c;[this.index,this.prevIndex].filter((t=>!includes([r,s],t))).forEach((t=>{trigger(i[t],"itemhidden",[this]),a&&(c=!0,this.prevIndex=s)})),(this.index===s&&this.prevIndex!==s||c)&&trigger(i[this.index],"itemshown",[this]),d&&(this.prevIndex=s,this.index=r,!a&&trigger(o,"beforeitemhide",[this]),trigger(p,"beforeitemshow",[this])),this._transitioner=this._translate(Math.abs(this.percent),o,!a&&p),d&&(!a&&trigger(o,"itemhide",[this]),trigger(p,"itemshow",[this]))},end(){if(off(document,pointerMove,this.move,pointerOptions),off(document,pointerUp,this.end,pointerUpOptions),this.dragging)if(this.dragging=null,this.index===this.prevIndex)this.percent=1-this.percent,this.dir*=-1,this._show(!1,this.index,!0),this._transitioner=null;else{const t=(isRtl?this.dir*(isRtl?1:-1):this.dir)<0==this.prevPos>this.pos;this.index=t?this.index:this.prevIndex,t&&(this.percent=1-this.percent),this.show(this.dir>0&&!t||this.dir<0&&t?"next":"previous",!0)}css(this.list,{userSelect:"",pointerEvents:""}),this.drag=this.percent=null}}};function hasSelectableText(t){return"none"!==css(t,"userSelect")&&toArray(t.childNodes).some((t=>3===t.nodeType&&t.textContent.trim()))}
//# sourceMappingURL=/sm/5c762fa54ee83b7d0c29efb318fec61e6355dde2bd0bc74092c962fab0cbb63e.map