/**
 * Minified by jsDelivr using Terser v5.15.1.
 * Original file: /npm/uikit@3.16.12/src/js/mixin/slider.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import I18n from"./i18n";import SliderNav from"./slider-nav";import SliderDrag from"./slider-drag";import SliderAutoplay from"./slider-autoplay";import{resize}from"../api/observables";import{$,children,clamp,getIndex,hasClass,isNumber,isRtl,removeClass,trigger}from"uikit-util";export default{mixins:[SliderAutoplay,SliderDrag,SliderNav,I18n],props:{clsActivated:Boolean,easing:String,index:Number,finite:Boolean,velocity:Number},data:()=>({easing:"ease",finite:!1,velocity:1,index:0,prevIndex:-1,stack:[],percent:0,clsActive:"uk-active",clsActivated:!1,Transitioner:!1,transitionOptions:{}}),connected(){this.prevIndex=-1,this.index=this.getValidIndex(this.$props.index),this.stack=[]},disconnected(){removeClass(this.slides,this.clsActive)},computed:{duration:({velocity:i},t)=>speedUp(t.offsetWidth/i),list:({selList:i},t)=>$(i,t),maxIndex(){return this.length-1},slides(){return children(this.list)},length(){return this.slides.length}},watch:{slides(i,t){t&&this.$emit()}},observe:resize(),methods:{show(i,t=!1){if(this.dragging||!this.length)return;const{stack:e}=this,s=t?0:e.length,r=()=>{e.splice(s,1),e.length&&this.show(e.shift(),!0)};if(e[t?"unshift":"push"](i),!t&&e.length>1)return void(2===e.length&&this._transitioner?.forward(Math.min(this.duration,200)));const n=this.getIndex(this.index),h=hasClass(this.slides,this.clsActive)&&this.slides[n],o=this.getIndex(i,this.index),d=this.slides[o];if(h===d)return void r();if(this.dir=getDirection(i,n),this.prevIndex=n,this.index=o,h&&!trigger(h,"beforeitemhide",[this])||!trigger(d,"beforeitemshow",[this,h]))return this.index=this.prevIndex,void r();const a=this._show(h,d,t).then((()=>{h&&trigger(h,"itemhidden",[this]),trigger(d,"itemshown",[this]),e.shift(),this._transitioner=null,requestAnimationFrame((()=>e.length&&this.show(e.shift(),!0)))}));return h&&trigger(h,"itemhide",[this]),trigger(d,"itemshow",[this]),a},getIndex(i=this.index,t=this.index){return clamp(getIndex(i,this.slides,t,this.finite),0,Math.max(0,this.maxIndex))},getValidIndex(i=this.index,t=this.prevIndex){return this.getIndex(i,t)},_show(i,t,e){if(this._transitioner=this._getTransitioner(i,t,this.dir,{easing:e?t.offsetWidth<600?"cubic-bezier(0.25, 0.46, 0.45, 0.94)":"cubic-bezier(0.165, 0.84, 0.44, 1)":this.easing,...this.transitionOptions}),!e&&!i)return this._translate(1),Promise.resolve();const{length:s}=this.stack;return this._transitioner[s>1?"forward":"show"](s>1?Math.min(this.duration,75+75/(s-1)):this.duration,this.percent)},_getDistance(i,t){return this._getTransitioner(i,i!==t&&t).getDistance()},_translate(i,t=this.prevIndex,e=this.index){const s=this._getTransitioner(t!==e&&t,e);return s.translate(i),s},_getTransitioner(i=this.prevIndex,t=this.index,e=this.dir||1,s=this.transitionOptions){return new this.Transitioner(isNumber(i)?this.slides[i]:i,isNumber(t)?this.slides[t]:t,e*(isRtl?-1:1),s)}}};function getDirection(i,t){return"next"===i?1:"previous"===i||i<t?-1:1}export function speedUp(i){return.5*i+300}
//# sourceMappingURL=/sm/9e83faf2c8321cb2318b644120956fcadde05a760f23656db9af4fde61ce164a.map