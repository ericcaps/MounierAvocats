/**
 * Minified by jsDelivr using Terser v5.15.1.
 * Original file: /npm/uikit@3.16.12/src/js/mixin/parallax.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import Media from"../mixin/media";import{getMaxPathLength}from"../util/svg";import{createEvent,css,Dimensions,findIndex,isNumber,isString,isUndefined,noop,toFloat,toPx,trigger,ucfirst}from"uikit-util";const props={x:transformFn,y:transformFn,rotate:transformFn,scale:transformFn,color:colorFn,backgroundColor:colorFn,borderColor:colorFn,blur:filterFn,hue:filterFn,fopacity:filterFn,grayscale:filterFn,invert:filterFn,saturate:filterFn,sepia:filterFn,opacity:cssPropFn,stroke:strokeFn,bgx:backgroundFn,bgy:backgroundFn},{keys:keys}=Object;export default{mixins:[Media],props:fillObject(keys(props),"list"),data:fillObject(keys(props),void 0),computed:{props(t,n){const o={};for(const n in t)n in props&&!isUndefined(t[n])&&(o[n]=t[n].slice());const e={};for(const t in o)e[t]=props[t](t,n,o[t],o);return e}},events:{load(){this.$emit()}},methods:{reset(){for(const t in this.getCss(0))css(this.$el,t,"")},getCss(t){const n={transform:"",filter:""};for(const o in this.props)this.props[o](n,t);return n.willChange=Object.keys(n).filter((t=>""!==n[t])).join(","),n}}};function transformFn(t,n,o){let e,s=getUnit(o)||{x:"px",y:"px",rotate:"deg"}[t]||"";return"x"===t||"y"===t?(t=`translate${ucfirst(t)}`,e=t=>toFloat(toFloat(t).toFixed("px"===s?0:6))):"scale"===t&&(s="",e=t=>getUnit([t])?toPx(t,"width",n,!0)/n.offsetWidth:t),1===o.length&&o.unshift("scale"===t?1:0),o=parseStops(o,e),(n,e)=>{n.transform+=` ${t}(${getValue(o,e)}${s})`}}function colorFn(t,n,o){return 1===o.length&&o.unshift(getCssValue(n,t,"")),o=parseStops(o,(t=>parseColor(n,t))),(n,e)=>{const[s,r,i]=getStop(o,e),c=s.map(((t,n)=>(t+=i*(r[n]-t),3===n?toFloat(t):parseInt(t,10)))).join(",");n[t]=`rgba(${c})`}}function parseColor(t,n){return getCssValue(t,"color",n).split(/[(),]/g).slice(1,-1).concat(1).slice(0,4).map(toFloat)}function filterFn(t,n,o){1===o.length&&o.unshift(0);const e=getUnit(o)||{blur:"px",hue:"deg"}[t]||"%";return t={fopacity:"opacity",hue:"hue-rotate"}[t]||t,o=parseStops(o),(n,s)=>{const r=getValue(o,s);n.filter+=` ${t}(${r+e})`}}function cssPropFn(t,n,o){return 1===o.length&&o.unshift(getCssValue(n,t,"")),o=parseStops(o),(n,e)=>{n[t]=getValue(o,e)}}function strokeFn(t,n,o){1===o.length&&o.unshift(0);const e=getUnit(o),s=getMaxPathLength(n);return(o=parseStops(o.reverse(),(t=>(t=toFloat(t),"%"===e?t*s/100:t)))).some((([t])=>t))?(css(n,"strokeDasharray",s),(t,n)=>{t.strokeDashoffset=getValue(o,n)}):noop}function backgroundFn(t,n,o,e){1===o.length&&o.unshift(0);const s="bgy"===t?"height":"width";e[t]=parseStops(o,(t=>toPx(t,s,n)));const r=["bgx","bgy"].filter((t=>t in e));if(2===r.length&&"bgx"===t)return noop;if("cover"===getCssValue(n,"backgroundSize",""))return backgroundCoverFn(t,n,o,e);const i={};for(const t of r)i[t]=getBackgroundPos(n,t);return setBackgroundPosFn(r,i,e)}function backgroundCoverFn(t,n,o,e){const s=getBackgroundImageDimensions(n);if(!s.width)return noop;const r={width:n.offsetWidth,height:n.offsetHeight},i=["bgx","bgy"].filter((t=>t in e)),c={};for(const t of i){const n=e[t].map((([t])=>t)),o=Math.min(...n),s=Math.max(...n),i=n.indexOf(o)<n.indexOf(s),a=s-o;c[t]=(i?-a:0)-(i?o:s)+"px",r["bgy"===t?"height":"width"]+=a}const a=Dimensions.cover(s,r);for(const t of i){const o="bgy"===t?"height":"width",e=a[o]-r[o];c[t]=`max(${getBackgroundPos(n,t)},-${e}px) + ${c[t]}`}const u=setBackgroundPosFn(i,c,e);return(t,n)=>{u(t,n),t.backgroundSize=`${a.width}px ${a.height}px`,t.backgroundRepeat="no-repeat"}}function getBackgroundPos(t,n){return getCssValue(t,`background-position-${n.substr(-1)}`,"")}function setBackgroundPosFn(t,n,o){return function(e,s){for(const r of t){const t=getValue(o[r],s);e[`background-position-${r.substr(-1)}`]=`calc(${n[r]} + ${t}px)`}}}const dimensions={};function getBackgroundImageDimensions(t){const n=css(t,"backgroundImage").replace(/^none|url\(["']?(.+?)["']?\)$/,"$1");if(dimensions[n])return dimensions[n];const o=new Image;return n&&(o.src=n,!o.naturalWidth)?(o.onload=()=>{dimensions[n]=toDimensions(o),trigger(t,createEvent("load",!1))},toDimensions(o)):dimensions[n]=toDimensions(o)}function toDimensions(t){return{width:t.naturalWidth,height:t.naturalHeight}}function parseStops(t,n=toFloat){const o=[],{length:e}=t;let s=0;for(let r=0;r<e;r++){let[i,c]=isString(t[r])?t[r].trim().split(" "):[t[r]];if(i=n(i),c=c?toFloat(c)/100:null,0===r?null===c?c=0:c&&o.push([i,0]):r===e-1&&(null===c?c=1:1!==c&&(o.push([i,c]),c=1)),o.push([i,c]),null===c)s++;else if(s){const t=o[r-s-1][1],n=(c-t)/(s+1);for(let e=s;e>0;e--)o[r-e][1]=t+n*(s-e+1);s=0}}return o}function getStop(t,n){const o=findIndex(t.slice(1),(([,t])=>n<=t))+1;return[t[o-1][0],t[o][0],(n-t[o-1][1])/(t[o][1]-t[o-1][1])]}function getValue(t,n){const[o,e,s]=getStop(t,n);return isNumber(o)?o+Math.abs(o-e)*s*(o<e?1:-1):+e}const unitRe=/^-?\d+(\S+)?/;function getUnit(t,n){for(const n of t){const t=n.match?.(unitRe);if(t)return t[1]}return n}function getCssValue(t,n,o){const e=t.style[n],s=css(css(t,n,o),n);return t.style[n]=e,s}function fillObject(t,n){return t.reduce(((t,o)=>(t[o]=n,t)),{})}
//# sourceMappingURL=/sm/db78dd1a8733fed4ffc8e065764e9fc1f9e67ddc6c3a8644ea3a97cc3045b9ba.map