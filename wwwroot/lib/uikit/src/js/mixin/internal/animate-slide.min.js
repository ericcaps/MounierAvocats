/**
 * Minified by jsDelivr using Terser v5.15.1.
 * Original file: /npm/uikit@3.16.12/src/js/mixin/internal/animate-slide.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{attr,children,css,fastdom,includes,index,isVisible,offset,parent,position,Transition,trigger}from"uikit-util";export default async function(t,i,s){await awaitFrame();let a=children(i);const e=a.map((t=>getProps(t,!0))),n={...css(i,["height","padding"]),display:"block"};await Promise.all(a.concat(i).map(Transition.cancel)),t(),a=a.concat(children(i).filter((t=>!includes(a,t)))),await Promise.resolve(),fastdom.flush();const o=attr(i,"style"),r=css(i,["height","padding"]),[c,p]=getTransitionProps(i,a,e),l=a.map((t=>({style:attr(t,"style")})));a.forEach(((t,i)=>p[i]&&css(t,p[i]))),css(i,n),trigger(i,"scroll"),fastdom.flush(),await awaitFrame();const f=a.map(((t,a)=>parent(t)===i&&Transition.start(t,c[a],s,"ease"))).concat(Transition.start(i,r,s,"ease"));try{await Promise.all(f),a.forEach(((t,s)=>{attr(t,l[s]),parent(t)===i&&css(t,"display",0===c[s].opacity?"none":"")})),attr(i,"style",o)}catch(t){attr(a,"style",""),resetProps(i,n)}}function getProps(t,i){const s=css(t,"zIndex");return!!isVisible(t)&&{display:"",opacity:i?css(t,"opacity"):"0",pointerEvents:"none",position:"absolute",zIndex:"auto"===s?index(t):s,...getPositionWithMargin(t)}}function getTransitionProps(t,i,s){const a=i.map(((t,i)=>!(!parent(t)||!(i in s))&&(s[i]?isVisible(t)?getPositionWithMargin(t):{opacity:0}:{opacity:isVisible(t)?1:0}))),e=a.map(((a,e)=>{const n=parent(i[e])===t&&(s[e]||getProps(i[e]));if(!n)return!1;if(a){if(!("opacity"in a)){const{opacity:t}=n;t%1?a.opacity=1:delete n.opacity}}else delete n.opacity;return n}));return[a,e]}function resetProps(t,i){for(const s in i)css(t,s,"")}function getPositionWithMargin(t){const{height:i,width:s}=offset(t);return{height:i,width:s,transform:"",...position(t),...css(t,["marginTop","marginLeft"])}}function awaitFrame(){return new Promise((t=>requestAnimationFrame(t)))}
//# sourceMappingURL=/sm/014c9a293d5a0b0a274a14fe4088be93502f07295a73cb8ad036c02033484242.map