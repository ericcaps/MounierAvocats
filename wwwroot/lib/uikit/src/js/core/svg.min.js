/**
 * Minified by jsDelivr using Terser v5.15.1.
 * Original file: /npm/uikit@3.16.12/src/js/core/svg.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import Svg from"../mixin/svg";import Class from"../mixin/class";import{getMaxPathLength}from"../util/svg";import{mutation}from"../api/observables";import{$,addClass,attr,css,includes,isTag,memoize,once,removeAttr,startsWith}from"uikit-util";export default{mixins:[Class,Svg],args:"src",props:{src:String,icon:String,attributes:"list",strokeAnimation:Boolean},data:{strokeAnimation:!1},observe:[mutation({async handler(){const t=await this.svg;t&&applyAttributes.call(this,t)},options:{attributes:!0,attributeFilter:["id","class","style"]}})],async connected(){includes(this.src,"#")&&([this.src,this.icon]=this.src.split("#"));const t=await this.svg;t&&(applyAttributes.call(this,t),this.strokeAnimation&&applyAnimation(t))},methods:{async getSvg(){return isTag(this.$el,"img")&&!this.$el.complete&&"lazy"===this.$el.loading?new Promise((t=>once(this.$el,"load",(()=>t(this.getSvg()))))):parseSVG(await loadSVG(this.src),this.icon)||Promise.reject("SVG not found.")}}};function applyAttributes(t){const{$el:s}=this;addClass(t,attr(s,"class"));for(let i=0;i<s.style.length;i++){const e=s.style[i];css(t,e,css(s,e))}for(const s in this.attributes){const[i,e]=this.attributes[s].split(":",2);attr(t,i,e)}this.$el.id||removeAttr(t,"id")}const loadSVG=memoize((async t=>t?startsWith(t,"data:")?decodeURIComponent(t.split(",")[1]):(await fetch(t)).text():Promise.reject()));function parseSVG(t,s){return s&&includes(t,"<symbol")&&(t=parseSymbols(t)[s]||t),(t=$(t.substr(t.indexOf("<svg"))))?.hasChildNodes()&&t}const symbolRe=/<symbol([^]*?id=(['"])(.+?)\2[^]*?<\/)symbol>/g,parseSymbols=memoize((function(t){const s={};let i;for(symbolRe.lastIndex=0;i=symbolRe.exec(t);)s[i[3]]=`<svg xmlns="http://www.w3.org/2000/svg"${i[1]}svg>`;return s}));function applyAnimation(t){const s=getMaxPathLength(t);s&&css(t,"--uk-animation-stroke",s)}
//# sourceMappingURL=/sm/ad3bcda6bfe7481ea2a2f310249db1ffc05900b9dd62b35149d8be065d5c7026.map