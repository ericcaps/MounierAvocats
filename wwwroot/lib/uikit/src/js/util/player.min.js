/**
 * Minified by jsDelivr using Terser v5.15.1.
 * Original file: /npm/uikit@3.16.12/src/js/util/player.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{isTag}from"./dom";import{once}from"./event";import{includes,noop}from"./lang";export function play(e){if(isIFrame(e)&&call(e,{func:"playVideo",method:"play"}),isHTML5(e))try{e.play().catch(noop)}catch(e){}}export function pause(e){isIFrame(e)&&call(e,{func:"pauseVideo",method:"pause"}),isHTML5(e)&&e.pause()}export function mute(e){isIFrame(e)&&call(e,{func:"mute",method:"setVolume",value:0}),isHTML5(e)&&(e.muted=!0)}export function isVideo(e){return isHTML5(e)||isIFrame(e)}function isHTML5(e){return isTag(e,"video")}function isIFrame(e){return isTag(e,"iframe")&&(isYoutube(e)||isVimeo(e))}function isYoutube(e){return!!e.src.match(/\/\/.*?youtube(-nocookie)?\.[a-z]+\/(watch\?v=[^&\s]+|embed)|youtu\.be\/.*/)}function isVimeo(e){return!!e.src.match(/vimeo\.com\/video\/.*/)}async function call(e,t){await enableApi(e),post(e,t)}function post(e,t){try{e.contentWindow.postMessage(JSON.stringify({event:"command",...t}),"*")}catch(e){}}const stateKey="_ukPlayer";let counter=0;function enableApi(e){if(e._ukPlayer)return e._ukPlayer;const t=isYoutube(e),n=isVimeo(e),o=++counter;let i;return e._ukPlayer=new Promise((a=>{t&&once(e,"load",(()=>{const t=()=>post(e,{event:"listening",id:o});i=setInterval(t,100),t()})),once(window,"message",a,!1,(({data:e})=>{try{return e=JSON.parse(e),t&&e?.id===o&&"onReady"===e.event||n&&Number(e?.player_id)===o}catch(e){}})),e.src=`${e.src}${includes(e.src,"?")?"&":"?"}${t?"enablejsapi=1":`api=1&player_id=${o}`}`})).then((()=>clearInterval(i)))}
//# sourceMappingURL=/sm/7b10c301a002a36b5737767eb9c6fbc1a9f3cc604953f13ba99a0316c4f68708.map