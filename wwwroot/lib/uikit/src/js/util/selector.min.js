/**
 * Minified by jsDelivr using Terser v5.15.1.
 * Original file: /npm/uikit@3.16.12/src/js/util/selector.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{attr}from"./attr";import{closest,index,matches,parent}from"./filter";import{isDocument,isString,memoize,toNode,toNodes}from"./lang";export function query(t,e){return find(t,getContext(t,e))}export function queryAll(t,e){return findAll(t,getContext(t,e))}export function find(t,e){return toNode(_query(t,toNode(e),"querySelector"))}export function findAll(t,e){return toNodes(_query(t,toNode(e),"querySelectorAll"))}const contextSelectorRe=/(^|[^\\],)\s*[!>+~-]/,isContextSelector=memoize((t=>t.match(contextSelectorRe)));function getContext(t,e=document){return isString(t)&&isContextSelector(t)||isDocument(e)?e:e.ownerDocument}const contextSanitizeRe=/([!>+~-])(?=\s+[!>+~-]|\s*$)/g,sanatize=memoize((t=>t.replace(contextSanitizeRe,"$1 *")));function _query(t,e=document,o){if(!t||!isString(t))return t;if(t=sanatize(t),isContextSelector(t)){const o=splitSelector(t);t="";for(let n of o){let r=e;if("!"===n[0]){const t=n.substr(1).trim().split(" ");if(r=closest(parent(e),t[0]),n=t.slice(1).join(" ").trim(),!n.length&&1===o.length)return r}if("-"===n[0]){const t=n.substr(1).trim().split(" "),o=(r||e).previousElementSibling;r=matches(o,n.substr(1))?o:null,n=t.slice(1).join(" ")}r&&(t+=`${t?",":""}${domPath(r)} ${n}`)}e=document}try{return e[o](t)}catch(t){return null}}const selectorRe=/.*?[^\\](?:,|$)/g,splitSelector=memoize((t=>t.match(selectorRe).map((t=>t.replace(/,$/,"").trim()))));function domPath(t){const e=[];for(;t.parentNode;){const o=attr(t,"id");if(o){e.unshift(`#${escape(o)}`);break}{let{tagName:o}=t;"HTML"!==o&&(o+=`:nth-child(${index(t)+1})`),e.unshift(o),t=t.parentNode}}return e.join(" > ")}export function escape(t){return isString(t)?CSS.escape(t):""}
//# sourceMappingURL=/sm/0c5872fa1e88f57713f13cdf44560cab6fa043e98e414f1e8ef23bd22b7b7806.map