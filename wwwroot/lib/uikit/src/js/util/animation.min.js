/**
 * Minified by jsDelivr using Terser v5.15.1.
 * Original file: /npm/uikit@3.16.12/src/js/util/animation.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{attr}from"./attr";import{once,trigger}from"./event";import{css,propName}from"./style";import{startsWith,toNodes}from"./lang";import{addClass,hasClass,removeClass,removeClasses}from"./class";function transition(n,t,i=400,a="linear"){return i=Math.round(i),Promise.all(toNodes(n).map((n=>new Promise(((s,e)=>{for(const i in t){const t=css(n,i);""===t&&css(n,i,t)}const o=setTimeout((()=>trigger(n,"transitionend")),i);once(n,"transitionend transitioncanceled",(({type:t})=>{clearTimeout(o),removeClass(n,"uk-transition"),css(n,{transitionProperty:"",transitionDuration:"",transitionTimingFunction:""}),"transitioncanceled"===t?e():s(n)}),{self:!0}),addClass(n,"uk-transition"),css(n,{transitionProperty:Object.keys(t).map(propName).join(","),transitionDuration:`${i}ms`,transitionTimingFunction:a,...t})})))))}export const Transition={start:transition,async stop(n){trigger(n,"transitionend"),await Promise.resolve()},async cancel(n){trigger(n,"transitioncanceled"),await Promise.resolve()},inProgress:n=>hasClass(n,"uk-transition")};const animationPrefix="uk-animation-";function animate(n,t,i=200,a,s){return Promise.all(toNodes(n).map((n=>new Promise(((e,o)=>{trigger(n,"animationcanceled");const r=setTimeout((()=>trigger(n,"animationend")),i);once(n,"animationend animationcanceled",(({type:t})=>{clearTimeout(r),"animationcanceled"===t?o():e(n),css(n,"animationDuration",""),removeClasses(n,"uk-animation-\\S*")}),{self:!0}),css(n,"animationDuration",`${i}ms`),addClass(n,t,"uk-animation-"+(s?"leave":"enter")),startsWith(t,"uk-animation-")&&(a&&addClass(n,`uk-transform-origin-${a}`),s&&addClass(n,"uk-animation-reverse"))})))))}const inProgressRe=new RegExp("uk-animation-(enter|leave)");export const Animation={in:animate,out:(n,t,i,a)=>animate(n,t,i,a,!0),inProgress:n=>inProgressRe.test(attr(n,"class")),cancel(n){trigger(n,"animationcanceled")}};
//# sourceMappingURL=/sm/475771b197fc02ff287a7bda60853664f24132c79793769d9cd198965fee0664.map