/**
 * Minified by jsDelivr using Terser v5.15.1.
 * Original file: /npm/uikit@3.16.12/src/js/util/dimensions.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{on}from"./event";import{css}from"./style";import{$,append,remove}from"./dom";import{each,isDocument,isElement,isString,isUndefined,isWindow,memoize,sumBy,toFloat,toNode,toWindow,ucfirst}from"./lang";const dirs={width:["left","right"],height:["top","bottom"]};export function dimensions(t){const o=isElement(t)?toNode(t).getBoundingClientRect():{height:height(t),width:width(t),top:0,left:0};return{height:o.height,width:o.width,top:o.top,left:o.left,bottom:o.top+o.height,right:o.left+o.width}}export function offset(t,o){const e=dimensions(t);if(t){const{scrollY:o,scrollX:i}=toWindow(t),n={height:o,width:i};for(const t in dirs)for(const o of dirs[t])e[o]+=n[t]}if(!o)return e;const i=css(t,"position");each(css(t,["left","top"]),((n,s)=>css(t,s,o[s]-e[s]+toFloat("absolute"===i&&"auto"===n?position(t)[s]:n))))}export function position(t){let{top:o,left:e}=offset(t);const{ownerDocument:{body:i,documentElement:n},offsetParent:s}=toNode(t);let r=s||n;for(;r&&(r===i||r===n)&&"static"===css(r,"position");)r=r.parentNode;if(isElement(r)){const t=offset(r);o-=t.top+toFloat(css(r,"borderTopWidth")),e-=t.left+toFloat(css(r,"borderLeftWidth"))}return{top:o-toFloat(css(t,"marginTop")),left:e-toFloat(css(t,"marginLeft"))}}export function offsetPosition(t){const o=[(t=toNode(t)).offsetTop,t.offsetLeft];for(;t=t.offsetParent;)if(o[0]+=t.offsetTop+toFloat(css(t,"borderTopWidth")),o[1]+=t.offsetLeft+toFloat(css(t,"borderLeftWidth")),"fixed"===css(t,"position")){const e=toWindow(t);return o[0]+=e.scrollY,o[1]+=e.scrollX,o}return o}export const height=dimension("height");export const width=dimension("width");function dimension(t){const o=ucfirst(t);return(e,i)=>{if(isUndefined(i)){if(isWindow(e))return e[`inner${o}`];if(isDocument(e)){const t=e.documentElement;return Math.max(t[`offset${o}`],t[`scroll${o}`])}return e=toNode(e),(i="auto"===(i=css(e,t))?e[`offset${o}`]:toFloat(i)||0)-boxModelAdjust(e,t)}return css(e,t,i||0===i?+i+boxModelAdjust(e,t)+"px":"")}}export function boxModelAdjust(t,o,e="border-box"){return css(t,"boxSizing")===e?sumBy(dirs[o].map(ucfirst),(o=>toFloat(css(t,`padding${o}`))+toFloat(css(t,`border${o}Width`)))):0}export function flipPosition(t){for(const o in dirs)for(const e in dirs[o])if(dirs[o][e]===t)return dirs[o][1-e];return t}export function toPx(t,o="width",e=window,i=!1){return isString(t)?sumBy(parseCalc(t),(t=>{const n=parseUnit(t);return n?percent("vh"===n?getViewportHeight():"vw"===n?width(toWindow(e)):i?e[`offset${ucfirst(o)}`]:dimensions(e)[o],t):t})):toFloat(t)}const calcRe=/-?\d+(?:\.\d+)?(?:v[wh]|%|px)?/g,parseCalc=memoize((t=>t.toString().replace(/\s/g,"").match(calcRe)||[])),unitRe=/(?:v[hw]|%)$/,parseUnit=memoize((t=>(t.match(unitRe)||[])[0]));function percent(t,o){return t*toFloat(o)/100}let vh,vhEl;function getViewportHeight(){return vh||(vhEl||(vhEl=$("<div>"),css(vhEl,{height:"100vh",position:"fixed"}),on(window,"resize",(()=>vh=null))),append(document.body,vhEl),vh=vhEl.clientHeight,remove(vhEl),vh)}
//# sourceMappingURL=/sm/83a23f814da61774383f353830579156ccc805755e60f458953a8eebec24b44b.map