/**
 * Minified by jsDelivr using Terser v5.15.1.
 * Original file: /npm/uikit@3.16.12/src/js/components/countdown.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import Class from"../mixin/class";import{$,attr,html,toFloat,trigger}from"uikit-util";const units=["days","hours","minutes","seconds"];export default{mixins:[Class],props:{date:String,clsWrapper:String,role:String},data:{date:"",clsWrapper:".uk-countdown-%unit%",role:"timer"},connected(){attr(this.$el,"role",this.role),this.date=toFloat(Date.parse(this.$props.date)),this.end=!1,this.start()},disconnected(){this.stop()},events:{name:"visibilitychange",el:()=>document,handler(){document.hidden?this.stop():this.start()}},methods:{start(){this.stop(),this.update(),this.timer||(trigger(this.$el,"countdownstart"),this.timer=setInterval(this.update,1e3))},stop(){this.timer&&(clearInterval(this.timer),trigger(this.$el,"countdownstop"),this.timer=null)},update(){const t=getTimeSpan(this.date);t.total||(this.stop(),this.end||(trigger(this.$el,"countdownend"),this.end=!0));for(const e of units){const s=$(this.clsWrapper.replace("%unit%",e),this.$el);if(!s)continue;let i=String(Math.trunc(t[e]));i=i.length<2?`0${i}`:i,s.textContent!==i&&(i=i.split(""),i.length!==s.children.length&&html(s,i.map((()=>"<span></span>")).join("")),i.forEach(((t,e)=>s.children[e].textContent=t)))}}}};function getTimeSpan(t){const e=Math.max(0,t-Date.now())/1e3;return{total:e,seconds:e%60,minutes:e/60%60,hours:e/60/60%24,days:e/60/60/24}}
//# sourceMappingURL=/sm/a56fb722cfc9a9712df2da0e2834a996b3bfbe99bb0d6a45bb7c4b01db7d85b4.map