/**
 * Minified by jsDelivr using Terser v5.15.1.
 * Original file: /npm/uikit@3.16.12/src/js/components/internal/slider-transitioner.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{translate}from"../../mixin/internal/slideshow-animations";import{children,clamp,createEvent,css,Deferred,dimensions,findIndex,includes,isRtl,noop,position,sumBy,Transition,trigger}from"uikit-util";export default function(t,e,i,{center:n,easing:s,list:r}){const o=new Deferred,a=t?getLeft(t,r,n):getLeft(e,r,n)+dimensions(e).width*i,c=e?getLeft(e,r,n):a+dimensions(t).width*i*(isRtl?-1:1);return{dir:i,show(e,n=0,a){const d=a?"linear":s;return e-=Math.round(e*clamp(n,-1,1)),this.translate(n),n=t?n:clamp(n,0,1),triggerUpdate(this.getItemIn(),"itemin",{percent:n,duration:e,timing:d,dir:i}),t&&triggerUpdate(this.getItemIn(!0),"itemout",{percent:1-n,duration:e,timing:d,dir:i}),Transition.start(r,{transform:translate(-c*(isRtl?-1:1),"px")},e,d).then(o.resolve,noop),o.promise},cancel(){Transition.cancel(r)},reset(){css(r,"transform","")},forward(t,e=this.percent()){return Transition.cancel(r),this.show(t,e,!0)},translate(n){const s=this.getDistance()*i*(isRtl?-1:1);css(r,"transform",translate(clamp(s-s*n-c,-getWidth(r),dimensions(r).width)*(isRtl?-1:1),"px"));const o=this.getActives(),a=this.getItemIn(),d=this.getItemIn(!0);n=t?clamp(n,-1,1):0;for(const s of children(r)){const c=includes(o,s),l=s===a,m=s===d;triggerUpdate(s,"itemtranslate"+(l||!m&&(c||i*(isRtl?-1:1)==-1^getElLeft(s,r)>getElLeft(t||e))?"in":"out"),{dir:i,percent:m?1-n:l?n:c?1:0})}},percent:()=>Math.abs((css(r,"transform").split(",")[4]*(isRtl?-1:1)+a)/(c-a)),getDistance:()=>Math.abs(c-a),getItemIn(i=!1){let s=this.getActives(),o=inView(r,getLeft(e||t,r,n));if(i){const t=s;s=o,o=t}return o[findIndex(o,(t=>!includes(s,t)))]},getActives:()=>inView(r,getLeft(t||e,r,n))}}function getLeft(t,e,i){const n=getElLeft(t,e);return i?n-centerEl(t,e):Math.min(n,getMax(e))}export function getMax(t){return Math.max(0,getWidth(t)-dimensions(t).width)}export function getWidth(t){return sumBy(children(t),(t=>dimensions(t).width))}function centerEl(t,e){return dimensions(e).width/2-dimensions(t).width/2}export function getElLeft(t,e){return t&&(position(t).left+(isRtl?dimensions(t).width-dimensions(e).width:0))*(isRtl?-1:1)||0}function inView(t,e){e-=1;const i=dimensions(t).width,n=e+i+2;return children(t).filter((s=>{const r=getElLeft(s,t),o=r+Math.min(dimensions(s).width,i);return r>=e&&o<=n}))}function triggerUpdate(t,e,i){trigger(t,createEvent(e,!1,!1,i))}
//# sourceMappingURL=/sm/db144863e6907ff976901c50269dd43109ece6ec179efac483a5a04047c86a35.map