/**
 * Minified by jsDelivr using Terser v5.15.1.
 * Original file: /npm/uikit@3.16.12/build/util.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import less from"less";import fs from"fs-extra";import pLimit from"p-limit";import glob from"glob";import{optimize}from"svgo";import{promisify}from"util";import minimist from"minimist";import CleanCSS from"clean-css";import html from"rollup-plugin-html";import alias from"@rollup/plugin-alias";import modify from"rollup-plugin-modify";import replace from"@rollup/plugin-replace";import{basename,dirname,join}from"path";import{exec as execImport}from"child_process";import{rollup,watch as rollupWatch}from"rollup";import{default as esbuild,minify as esbuildMinify}from"rollup-plugin-esbuild";const limit=pLimit(Number(process.env.cpus||2));export const exec=promisify(execImport);export const{pathExists:pathExists,readJson:readJson}=fs;export const banner=`/*! UIkit ${await}getVersion0 | https://www.getuikit.com | (c) 2014 - ${(new Date).getFullYear()} YOOtheme | MIT License */\n`;export const validClassName=/[a-zA-Z_\x7f-\xff][a-zA-Z0-9_\x7f-\xff]*/;const argv=minimist(process.argv.slice(2));argv._.forEach((e=>{const i=e.split("=");argv[i[0]]=i[1]||!0}));export const args=argv;export function read(e){return fs.readFile(e,"utf8")}export async function write(e,i){const t=await fs.writeFile(e,i);if(t)throw console.log(t),t;return await logFile(e),e}export async function logFile(e){const i=await read(e);console.log(`${cyan(e)} ${getSize(i)}`)}export async function minify(e){const{styles:i}=await limit((()=>new CleanCSS({advanced:!1,keepSpecialComments:0,rebase:!1,returnPromise:!0}).minify([e])));return await write(`${join(dirname(e),basename(e,".css"))}.min.css`,i),i}export function renderLess(e,i){return limit((async()=>(await less.render(e,i)).css))}export async function compile(e,i,{external:t,globals:r,name:o,aliases:a,replaces:s}={}){const n=!args.nominify,l=args.d||args.debug,c=args.l||args.log,m=args.w||args.watch;o=(o||"").replace(/[^\w]/g,"_");const p={external:t,input:e,plugins:[replace({preventAssignment:!0,values:{VERSION:`'${await getVersion()}'`,LOG:!!c,...s}}),alias({entries:{"uikit-util":"./src/js/util/index.js",...a}}),html({include:"**/*.svg",htmlMinifierOptions:{collapseWhitespace:!0,minifyCSS:{advanced:!1,keepSpecialComments:0,rebase:!1}}}),esbuild({target:"safari12",sourceMap:!!l,minify:!1}),!l&&modify({find:/(>)\n\s+|\n\s+(<)/,replace:(e,i,t)=>`${i||""} ${t||""}`})]},u={globals:r,banner:banner,format:"umd",amd:{id:`UIkit${o}`.toLowerCase()},name:`UIkit${ucfirst(o)}`,sourcemap:!!l&&"inline"},f=[{...u,file:`${i}.js`}];if(n&&f.push({...u,file:`${i}.min.js`,plugins:[l?void 0:esbuildMinify({target:"safari12"})]}),m){console.log("UIkit is watching the files...");const e=rollupWatch({...p,output:f});e.on("event",(({code:e,result:i,output:t,error:r})=>{i&&i.close(),"BUNDLE_END"===e&&t&&t.map(logFile),r&&console.error(r)})),await e.close()}else{const e=await rollup(p);for(const i of f)await limit((()=>e.write(i))),logFile(i.file);await e.close()}}export async function icons(e){const i={plugins:[{name:"preset-default",params:{overrides:{removeViewBox:!1,cleanupNumericValues:{floatPrecision:3},convertPathData:!1,convertShapeToPath:!1,mergePaths:!1,minifyStyles:!1,removeUnknownsAndDefaults:!1,removeUselessStrokeAndFill:!1,sortAttrs:!1}}}]},t=await glob(e),r=await Promise.all(t.map((e=>limit((async()=>(await optimize(await read(e),i)).data)))));return JSON.stringify(t.reduce(((e,i,t)=>(e[basename(i,".svg")]=r[t],e)),{}),null,"    ")}export async function run(e,i){const{stdout:t,stderr:r}=await limit((()=>exec(e,i)));return t&&console.log(t.trim()),r&&console.log(r.trim()),t}export function ucfirst(e){return e.length?e.charAt(0).toUpperCase()+e.slice(1):""}export async function getVersion(){return(await readJson("package.json")).version}export async function replaceInFile(e,i){await write(e,await i(await read(e)))}function cyan(e){return`[1m[36m${e}[39m[22m`}function getSize(e){return`${(e.length/1024).toFixed(2)}kb`}
//# sourceMappingURL=/sm/3ec9d803e2a03dc3e144781091f32bb60bccf9baa578551eb3438d803ea1fb4b.map